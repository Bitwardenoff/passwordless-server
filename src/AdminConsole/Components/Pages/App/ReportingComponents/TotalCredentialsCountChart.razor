@using Passwordless.Common.Models.Reporting
<LineChart Id="total-credentials-count-chart" XCategories="@XCategories" Series="@Values" SeriesName="Credentials"></LineChart>

@code {
    [CascadingParameter]
    public Task<IEnumerable<PeriodicCredentialReportResponse>> Data { get; set; }
    
    private IReadOnlyCollection<string>? XCategories { get; set; }
    
    private IReadOnlyCollection<int>? Values { get; set; }
    
    protected override async Task OnInitializedAsync()
    {
        var data = await Data;
        XCategories = data.Select(x => x.CreatedAt.ToShortDateString()).ToList();
        Values = data.Select(x => x.Credentials).ToList();
    }
}